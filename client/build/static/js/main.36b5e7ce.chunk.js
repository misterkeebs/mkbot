(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1150:function(e,t,a){},1151:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(43),l=a.n(c),i=(a(355),a(38)),o=a(1155),u=a(4),s=a.n(u),m=a(10),p=a(138),f=a(6),d=a(340),b=a.n(d),h=function(){return window.history.replaceState({},document.title,window.location.pathname)},E=r.a.createContext(),v=function(){return Object(n.useContext)(E)},g=function(e){var t=e.component,a=e.path,c=Object(p.a)(e,["component","path"]),l=v(),o=l.isAuthenticated,u=l.loginWithRedirect;Object(n.useEffect)(function(){!function(){var e=Object(m.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=3;break}return e.next=3,u({appState:{targetUrl:a}});case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[o,u,a]);return r.a.createElement(i.a,Object.assign({path:a,render:function(e){return!0===o?r.a.createElement(t,e):null}},c))},k=a(342),j=a.n(k),w=function(){return r.a.createElement("div",{className:"spinner"},r.a.createElement("img",{src:j.a,alt:"Loading"}))},O=a(17),y=a(20),x=a(1152),S=a(1153),C=a(1154),N=a(1156),T=a(1157),A=a(1158),_=a(1159),P=a(344),R=a(1186),M=a(1160),B=a(1161),z=a(1162),D=function(){var e=Object(n.useState)(!1),t=Object(f.a)(e,2),a=t[0],c=t[1],l=v(),i=l.user,u=l.isAuthenticated,s=l.loginWithRedirect,m=l.logout,p=function(){return m({returnTo:window.location.origin})},d=i?i["http://a.mrkeebs.com/roles"]:[],b=[{name:"Artisans",path:"/artisans",active:function(e,t){return t.pathname.startsWith("/artisan")||t.pathname.startsWith("/catalogs")}},{name:"My Artisans",path:"/my-artisans",auth:!0},{name:"Wishlist",path:"/wishlist",auth:!0},{name:"Submit",path:"/submit",auth:!0},{name:"Review",path:"/review",role:"reviewer"},{name:"Bot",path:"/bot"}].filter(function(e){return e.role?d.indexOf(e.role)>-1:!e.hasOwnProperty("auth")||!0===e.auth&&u||!1===e.auth&&!u}).map(function(e){var t=!1!==e.exact;return r.a.createElement(x.a,{key:"nv_".concat(e.name)},r.a.createElement(S.a,{tag:O.a,to:e.path,exact:t,isActive:e.active,activeClassName:"router-link-".concat(!1===t?"":"exact-","active")},e.name))});return r.a.createElement("div",{className:"nav-container"},r.a.createElement(C.a,{color:"light",light:!0,expand:"md"},r.a.createElement(o.a,null,r.a.createElement(N.a,{className:"logo"}),r.a.createElement(T.a,{onClick:function(){return c(!a)}}),r.a.createElement(A.a,{isOpen:a,navbar:!0},r.a.createElement(_.a,{className:"mr-auto",navbar:!0},b),r.a.createElement(_.a,{className:"d-none d-md-block",navbar:!0},!u&&r.a.createElement(x.a,null,r.a.createElement(P.a,{id:"qsLoginBtn",color:"primary",className:"btn-margin",onClick:function(){return s({})}},"Log in")),u&&r.a.createElement(R.a,{nav:!0,inNavbar:!0},r.a.createElement(M.a,{nav:!0,caret:!0,id:"profileDropDown"},r.a.createElement("img",{src:i.picture,alt:"Profile",className:"nav-user-profile rounded-circle",width:"50"})),r.a.createElement(B.a,null,r.a.createElement(z.a,{header:!0},i.name),r.a.createElement(z.a,{tag:O.a,to:"/profile",className:"dropdown-profile",activeClassName:"router-link-exact-active"},r.a.createElement(y.a,{icon:"user",className:"mr-3"})," Profile"),r.a.createElement(z.a,{id:"qsLogoutBtn",onClick:function(){return p()}},r.a.createElement(y.a,{icon:"power-off",className:"mr-3"})," Log out")))),!u&&r.a.createElement(_.a,{className:"d-md-none",navbar:!0},r.a.createElement(x.a,null,r.a.createElement(P.a,{id:"qsLoginBtn",color:"primary",block:!0,onClick:function(){return s({})}},"Log in"))),u&&r.a.createElement(_.a,{className:"d-md-none justify-content-between",navbar:!0,style:{minHeight:170}},r.a.createElement(x.a,null,r.a.createElement("span",{className:"user-info"},r.a.createElement("img",{src:i.picture,alt:"Profile",className:"nav-user-profile d-inline-block rounded-circle mr-3",width:"50"}),r.a.createElement("h6",{className:"d-inline-block"},i.name))),r.a.createElement(x.a,null,r.a.createElement(y.a,{icon:"user",className:"mr-3"}),r.a.createElement(O.a,{to:"/profile",activeClassName:"router-link-exact-active"},"Profile")),r.a.createElement(x.a,null,r.a.createElement(y.a,{icon:"power-off",className:"mr-3"}),r.a.createElement(O.a,{to:"#",id:"qsLogoutBtn",onClick:function(){return p()}},"Log out")))))))},I=function(){return r.a.createElement("footer",{className:"bg-light p-3 text-center"},r.a.createElement("div",{className:"logo"}),r.a.createElement("p",null,"Brought to you by ",r.a.createElement("a",{href:"http://mrkeebs.com"},"MrKeebs"),". Fork me on ",r.a.createElement("a",{href:"https://github.com/misterkeebs/mkbot"},"GitHub"),"."))},L=a(33),U=Object(L.a)(),F=a(140),W=a.n(F),X=a(1187),K=function(e){var t=Object(n.useState)(!0),a=Object(f.a)(t,2),c=a[0],l=a[1];return r.a.createElement(X.a,{color:e.type||"info",isOpen:c,toggle:function(){l(!1),e.onDismiss&&l(e.onDismiss())}},e.message)},Y=function(e){var t=Object(i.g)(),a=Object(i.f)(),n=W.a.parse(window.location.search).msg;return n?r.a.createElement(K,{color:"info",message:n,onDismiss:function(){t.search="",a.push(t)}}):null},q=Object(i.i)(function(e){return e.history.push("/artisans"),r.a.createElement("div",null,"Home")}),H=function(){return r.a.createElement("div",{className:"text-center hero my-3"},r.a.createElement("h2",{className:"mb-4"},"MKBot Artisan Discord Bot"),r.a.createElement("p",{className:"lead"},"Manage and share your artisan collection and the ones you're looking for using a community driven database. All in one place!",r.a.createElement("div",{style:{marginTop:20}},r.a.createElement(P.a,{color:"success",onClick:function(){window.location.href="https://discordapp.com/api/oauth2/authorize?client_id=640908207325446144&permissions=392256&scope=bot"}},"Add MKBot to Your Server"))))},J=a(141),G=a(142),Q=a(148),V=a(143),$=a(149),Z=a(1163),ee=a(1164),te=a(1165),ae=[{command:"pic [term]",description:"Shows an image of artisan matching the search term"},{command:"rand",description:"Shows an image of a random artisan"},{command:"catalog",description:"Shows a summary of the makers and number of artisans contained in our catalog"},{command:"list [command]",description:"Manages the list of artisans you own. You can view, add or remove artisans to the list using this command."},{command:"wishlist [command]",description:"Manages the your wishlist. You can view, add or remove artisans to the list using this command."},{command:"email [email]",description:"Assigns an email address to your user so you can use the web interface"}],ne=function(e){function t(){return Object(J.a)(this,t),Object(Q.a)(this,Object(V.a)(t).apply(this,arguments))}return Object($.a)(t,e),Object(G.a)(t,[{key:"render",value:function(){var e=ae.map(function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("code",null,e.command)),r.a.createElement("td",null,e.description))});return r.a.createElement("div",{className:"next-steps my-5"},r.a.createElement("h2",{className:"my-5 text-center"},"Features"),r.a.createElement(Z.a,{className:"d-flex justify-content-between"},r.a.createElement(ee.a,null,r.a.createElement(te.a,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Command"),r.a.createElement("th",null,"Description"))),r.a.createElement("tbody",null,e)))))}}]),t}(n.Component),re=function(e){return r.a.createElement(n.Fragment,null,r.a.createElement(H,null),r.a.createElement("hr",null),r.a.createElement(ne,null))},ce=a(1170),le=a(1171),ie=a(22),oe=a(145),ue=a.n(oe),se=a(61),me=a.n(se),pe=a(1166),fe=function(e){return r.a.createElement("div",null,r.a.createElement(pe.a,Object.assign({color:"primary"},e)))},de=function(e){var t=e.artisan,a=Object(n.useState)(0),c=Object(f.a)(a,2),l=c[0],i=c[1],o=Object(n.useState)([]),u=Object(f.a)(o,2),s=u[0],m=u[1];if(Object(n.useState)(function(){var e=t.images;e[0]&&!e[0].image_id||e.unshift({image:t.image,created_at:t.submitted_at,submitted_by:t.submitted_by}),m(e)},[t]),!s.length)return r.a.createElement(fe,null);var p=s.length>1&&s.map(function(e,t){return r.a.createElement("div",null,r.a.createElement("img",{key:t,alt:t,src:e.image,height:"100px",onClick:function(e){return i(t)}}))}),d=s.length>1&&r.a.createElement(Z.a,{className:"grid"},r.a.createElement(ee.a,null,p)),b=s[l];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Z.a,{className:"image"},r.a.createElement(ee.a,null,r.a.createElement("img",{alt:"".concat(t.sculpt," ").concat(t.colorway),src:b.image}),r.a.createElement("div",{className:"credit"},b.submitted_by&&r.a.createElement(r.a.Fragment,null,r.a.createElement("b",null,b.submitted_by),"\xa0\xb7\xa0"),b.created_at&&me.a.Date.relative(new Date(b.created_at))))),d)},be=a(1167),he=a(1168),Ee=a(1169),ve=function(){var e=Object(m.a)(s.a.mark(function e(t){var a,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:return a=e.sent,e.next=5,fetch("/api/user",{headers:{Authorization:"Bearer ".concat(a)}});case 5:return n=e.sent,e.abrupt("return",n.json());case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),ge=function(e){var t=v().getTokenSilently,a=Object(n.useState)(!1),c=Object(f.a)(a,2),l=c[0],i=c[1],u=Object(n.useState)(!1),p=Object(f.a)(u,2),d=p[0],b=p[1],h=Object(n.useState)(null),E=Object(f.a)(h,2),g=E[0],k=E[1],j=Object(n.useState)(null),w=Object(f.a)(j,2),O=w[0],x=w[1],S=Object(n.useState)(!0),C=Object(f.a)(S,2),N=C[0],T=C[1],A=Object(n.useState)(""),_=Object(f.a)(A,2),R=_[0],M=_[1],B=Object(n.useState)(""),z=Object(f.a)(B,2),D=z[0];z[1];if(Object(n.useState)(function(){i(!0),ve(t).then(function(e){M(e.nickname||e.email&&e.email.split("@")[0]),i(!1)})},[]),l)return r.a.createElement(fe,null);var I=function(){var t=Object(m.a)(s.a.mark(function t(a){var n;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i(!0),(n=new FileReader).onloadend=Object(m.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i(!1),k(n.result);case 2:case"end":return e.stop()}},e)})),n.readAsDataURL(a.target.files[0]),x(a.target.files[0]),e.onPreview&&e.onPreview(a.target.files[0]);case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),L=r.a.createElement(Z.a,null,r.a.createElement(ee.a,null,r.a.createElement(be.a,{className:"mkb-files"},r.a.createElement(he.a,{for:"image"},"To start the submission process, select or drag the artisan image to the box below:"),r.a.createElement(Ee.a,{type:"file",name:"file",id:"image",onChange:I})))),U=r.a.createElement(r.a.Fragment,null,r.a.createElement(Z.a,null,r.a.createElement(ee.a,{className:"mkb-file-preview"},r.a.createElement("img",{src:g,alt:"Preview"}))),r.a.createElement(Z.a,null,r.a.createElement(ee.a,{sm:"12",md:{size:6,offset:3}},r.a.createElement(be.a,{check:!0},r.a.createElement(he.a,{for:"wantsCredit"},r.a.createElement(Ee.a,{type:"checkbox",name:"wantsCredit",id:"wantsCredit",autoComplete:"off",disabled:d,checked:N,onChange:function(e){return T(e.target.checked)}})," ","Credit me for the submission")),N&&r.a.createElement(be.a,null,r.a.createElement(he.a,{for:"author"},"How do you want to be credited as?"),r.a.createElement(Ee.a,{type:"text",name:"author",id:"author",autoComplete:"off",value:R,disabled:d,onChange:function(e){return M(e.target.value)}})),!N&&r.a.createElement(be.a,null,r.a.createElement(he.a,null,"This submission will be sent anonymously.")),!1))),F=function(){var t=Object(m.a)(s.a.mark(function t(){var a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.onSave){t.next=3;break}return t.abrupt("return");case 3:return b(!0),t.next=6,a(O,{wantsCredit:N,author:R,description:D});case 6:b(!1),x(null),k(!1);case 9:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),W=function(){var t=Object(m.a)(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:g&&!window.confirm("Are you sure you want to cancel?")||(x(null),k(!1),e.onCancel&&e.onCancel());case 1:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),X=r.a.createElement(Z.a,{className:"actions"},r.a.createElement(ee.a,null,g&&r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{color:"primary",onClick:function(e){return F()}},r.a.createElement(y.a,{icon:ie.a,color:"white"})," ","Save")," "),r.a.createElement(P.a,{color:"danger",onClick:function(e){return W()}},r.a.createElement(y.a,{icon:ie.h,color:"white"})," ","Cancel")));return r.a.createElement(o.a,null,g?U:L,d?r.a.createElement(fe,null):X)},ke=function(e,t){return function(){var a=Object(m.a)(s.a.mark(function a(n){var r,c;return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e();case 2:return r=a.sent,a.next=5,fetch("/api".concat(t),{headers:{Authorization:"Bearer ".concat(r)}});case 5:return c=a.sent,a.abrupt("return",c.json());case 7:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()},je=function(){var e=Object(m.a)(s.a.mark(function e(t,a,n){var r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/lists/".concat(a,"/").concat(n),{method:"PUT",headers:{Authorization:"Bearer ".concat(t)}});case 2:return r=e.sent,e.abrupt("return",r.json());case 4:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}(),we=function(){var e=Object(m.a)(s.a.mark(function e(t,a,n){var r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/lists/".concat(a,"/").concat(n),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t)}});case 2:return r=e.sent,e.abrupt("return",r.json());case 4:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(m.a)(s.a.mark(function e(t){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/artisans/".concat(t));case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),ye=function(e){var t=Object(i.h)().id,a=v(),c=a.isAuthenticated,l=a.getTokenSilently,u=t&&parseInt(t.split("-")[0],10),p=Object(n.useState)(!1),d=Object(f.a)(p,2),b=d[0],h=d[1],E=Object(n.useState)(null),g=Object(f.a)(E,2),k=g[0],j=g[1],w=Object(n.useState)(null),x=Object(f.a)(w,2),S=x[0],C=x[1],N=Object(n.useState)(null),T=Object(f.a)(N,2),A=T[0],_=T[1],R=Object(n.useState)(null),M=Object(f.a)(R,2),B=M[0],z=M[1],D=Object(n.useState)(!1),I=Object(f.a)(D,2),L=I[0],U=I[1],F=Object(n.useState)(null),W=Object(f.a)(F,2),X=W[0],Y=W[1],q=ke(l,"/user/list"),H=ke(l,"/user/wishlist");if(Object(n.useState)(function(){var e=c?q(l):Promise.resolve({artisans:[]}),t=c?H(l):Promise.resolve({artisans:[]});Promise.all([e,t,Oe(u)]).then(function(e){var t=Object(f.a)(e,3),a=t[0],n=t[1],r=t[2];_(a),z(n),C(r),h(!1)})},[t]),b||!S)return r.a.createElement(fe,null);var J=function(e,t){return function(){var a=Object(m.a)(s.a.mark(function a(n){var r;return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,l();case 2:return r=a.sent,j(t),a.next=6,je(r,t,S.artisan_id);case 6:e.artisans.push({artisan_id:S.artisan_id}),j(null);case 8:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()},G=function(e,t){return function(){var a=Object(m.a)(s.a.mark(function a(n){var r,c;return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,l();case 2:return r=a.sent,j(t),a.next=6,we(r,t,S.artisan_id);case 6:c=e.artisans.findIndex(function(e){return e.artisan_id===S.artisan_id}),e.artisans.splice(c,1),j(null);case 9:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()},Q=r.a.createElement(Z.a,null,r.a.createElement(ee.a,null,r.a.createElement(ce.a,null,r.a.createElement(le.a,null,r.a.createElement(O.a,{to:"/artisans"},"Artisans")),r.a.createElement(le.a,null,r.a.createElement(O.a,{to:"/catalogs/".concat(S.maker_id,"-").concat(S.maker)},S.maker)),r.a.createElement(le.a,null,r.a.createElement(O.a,{to:"/catalogs/".concat(S.maker_id,"-").concat(S.maker,"/").concat(S.sculpt)},S.sculpt)),r.a.createElement(le.a,null,S.colorway)))),V=A&&A.artisans&&A.artisans.find(function(e){return e.artisan_id===u}),$=B&&B.artisans&&B.artisans.find(function(e){return e.artisan_id===u}),te=r.a.createElement(Z.a,{className:"actions"},r.a.createElement(ee.a,null,V?r.a.createElement(P.a,{color:"danger",onClick:G(A,"list"),disabled:"list"===k},"list"===k?r.a.createElement(fe,{size:"sm"}):r.a.createElement(y.a,{icon:ie.i,color:"white"})," ","Remove from My Artisans"):r.a.createElement(P.a,{color:"primary",onClick:J(A,"list"),disabled:"list"===k},"list"===k?r.a.createElement(fe,{size:"sm"}):r.a.createElement(y.a,{icon:ie.f,color:"white"})," ","Add to My Artisans")," ",$?r.a.createElement(P.a,{color:"danger",onClick:G(B,"wishlist"),disabled:"list"===k},"wishlist"===k?r.a.createElement(fe,{size:"sm"}):r.a.createElement(y.a,{icon:ie.i,color:"white"})," ","Remove from Wishlist"):r.a.createElement(P.a,{color:"primary",onClick:J(B,"wishlist"),disabled:"list"===k},"wishlist"===k?r.a.createElement(fe,{size:"sm"}):r.a.createElement(y.a,{icon:ie.c,color:"white"})," ","Add to Wishlist")," ",r.a.createElement(P.a,{color:"primary",onClick:function(e){return U(!0)}},r.a.createElement(y.a,{icon:ie.d,color:"white"})," ","Add Your Pic of This Sculpt"))),ae=function(){var e=Object(m.a)(s.a.mark(function e(t,a){var n,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l();case 2:return n=e.sent,r=new FormData,a.wantsCredit&&r.append("author",a.author),r.append("description",a.description),r.append("artisan_id",S.artisan_id),r.append("maker",S.maker),r.append("sculpt",S.sculpt),r.append("colorway",S.colorway),r.append("image",t),e.next=13,ue.a.put("/api/images",r,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(n)}});case 13:U(!1),Y("Thanks for your submission! We'll notify you when it gets processed.");case 15:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),ne=X&&r.a.createElement(K,{color:"success",message:X});return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.a,{className:"mkb-artisan-page"},Q,ne,r.a.createElement(Z.a,{className:"title"},r.a.createElement(ee.a,null,r.a.createElement("h1",null,S.sculpt," ",S.colorway),r.a.createElement("div",{className:"maker"},"by ",r.a.createElement(O.a,{to:S.makerLink},S.maker)))),!L&&r.a.createElement(Z.a,null,r.a.createElement(ee.a,{sm:"12",md:{size:6,offset:3}},r.a.createElement(de,{artisan:S}))),L&&r.a.createElement(ge,{onSave:ae,onCancel:function(e){return U(!1)}}),c&&!L&&te))},xe=a(1181),Se=a(345),Ce=a(146),Ne=a.n(Ce),Te=a(349),Ae=a(1178),_e=a(1179),Pe=a(1180),Re=a(1172),Me=a(1173),Be=a(1174),ze=a(1175),De=a(1176),Ie=a(1177);var Le=function(e){var t=e.isAuthenticated,a=Object(i.f)(),c=Object(n.useState)(!1),l=Object(f.a)(c,2),o=l[0],u=l[1],s=Object(n.useState)(!1),m=Object(f.a)(s,2),p=m[0],d=m[1],b=e.artisan,h=e.onRemove,E=e.onAdd,v=e.processing&&r.a.createElement(Re.a,{className:"processing"},r.a.createElement(fe,null)),g=function(e){return function(t){return t.preventDefault(),t.stopPropagation(),E&&E(e,b),!1}},k=function(e){return function(t){t.preventDefault(),t.stopPropagation();var n=encodeURI("/artisans/".concat(e.artisan_id,"-").concat(e.sculpt,"-").concat(e.colorway));a.push(n)}},j=E&&o&&r.a.createElement(Re.a,{style:{display:o?"block":"none",cursor:"pointer"},onClick:k(b)},r.a.createElement(y.a,{icon:ie.f,color:"black",onClick:g("list")})," \xa0",r.a.createElement(y.a,{icon:ie.c,color:"black",onClick:g("wishlist")})),w=h&&(p&&r.a.createElement(Re.a,{style:{display:p?"block":"none"}},r.a.createElement(y.a,{icon:ie.h,color:"black",onClick:function(){d(!1)}})," \xa0",r.a.createElement(y.a,{icon:ie.a,color:"black",onClick:function(){h&&h(b),u(!1),d(!1)}}))||o&&r.a.createElement(Re.a,{style:{display:o?"block":"none"}},r.a.createElement(y.a,{icon:ie.i,color:"black",onClick:function(e){return d(!0)}})));return r.a.createElement(ee.a,{key:b.artisan_id,onMouseEnter:function(e){return u(!0)},onMouseLeave:function(e){u(!1),d(!1)}},r.a.createElement(Me.a,{className:"mkb-artisan-card",onClick:k(b)},r.a.createElement(Be.a,{top:!0,width:"20%",src:b.image,alt:b.sculpt}),v,t&&j,t&&w,r.a.createElement(ze.a,null,r.a.createElement(De.a,null,r.a.createElement("b",null,function(e){var t=e.colorway?" ".concat(e.colorway):"";return"".concat(e.sculpt).concat(t)}(b)," ")),r.a.createElement(Ie.a,null,b.maker,b.submitted_by&&r.a.createElement("div",{className:"credit"},b.submitted_by,"\xa0\xb7\xa0",b.submitted_at&&me.a.Date.relative(new Date(b.submitted_at)))))))},Ue=function(e){var t=e.artisans,a=e.searchTerm,c=e.onRemove,l=e.page,i=e.pages,u=e.onPageChange,p=e.isAuthenticated,d=e.getTokenSilently,b=Object(n.useState)(null),h=Object(f.a)(b,2),E=h[0],v=h[1];if(a&&t&&!t.length)return r.a.createElement(o.a,null,r.a.createElement(Z.a,null,r.a.createElement(ee.a,null,"No matches for ",r.a.createElement("b",null,a))));var g=function(e){return u&&u(e)},k=l&&parseInt(l,10),j=i&&parseInt(i,10),w=t.length,O=e.perRow||3,y=O-w%O;if(y<O)for(var x=0;x<y;x++)t.push(null);var S=function(){var e=Object(m.a)(s.a.mark(function e(t,a){var n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:return n=e.sent,v(a.artisan_id),e.next=6,je(n,t,a.artisan_id);case 6:v(null);case 7:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),C=i&&j>1&&r.a.createElement(Z.a,null,r.a.createElement(ee.a,{className:"mkb-pagination"},r.a.createElement(Ae.a,{"aria-label":"Artisans navigation"},r.a.createElement(_e.a,{disabled:1===k},r.a.createElement(Pe.a,{first:!0,href:"#",onClick:function(e){return g(1)}})),r.a.createElement(_e.a,null,r.a.createElement(_e.a,{disabled:1===k},r.a.createElement(Pe.a,{previous:!0,href:"#",onClick:function(e){return g(k-1)}}))),Array.apply(void 0,Object(Te.a)(Array(j))).map(function(e,t){return r.a.createElement(_e.a,{active:t+1===k,key:t},r.a.createElement(Pe.a,{href:"#",onClick:function(e){return g(t+1)}},t+1))}),r.a.createElement(_e.a,{disabled:k===j},r.a.createElement(Pe.a,{next:!0,href:"#",onClick:function(e){return g(k+1)}})),r.a.createElement(_e.a,{disabled:k===j},r.a.createElement(Pe.a,{last:!0,href:"#",onClick:function(e){return g(j)}})))));return r.a.createElement(o.a,null,C,r.a.createElement(Z.a,null,t.map(function(e,t){return e?r.a.createElement(Le,{isAuthenticated:p,key:e.artisan_id,onRemove:c,onAdd:S,artisan:e,processing:e.artisan_id===E}):r.a.createElement(ee.a,{key:t})})),C)},Fe=function(e){var t=e.error,a="There was an error loading this page: ".concat(t.message);return r.a.createElement(K,{type:"danger",message:a})},We=function(){var e=Object(n.useState)(""),t=Object(f.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)([]),i=Object(f.a)(l,2),u=i[0],p=i[1],d=Object(n.useState)(1),b=Object(f.a)(d,2),h=b[0],E=b[1],g=Object(n.useState)(null),k=Object(f.a)(g,2),j=k[0],w=k[1],y=Object(n.useState)(!1),x=Object(f.a)(y,2),S=x[0],C=x[1],N=Object(n.useState)([]),T=Object(f.a)(N,2),A=T[0],_=T[1],P=Object(n.useState)(null),R=Object(f.a)(P,2),M=R[0],B=R[1],z=v(),D=z.user,I=z.getTokenSilently,L=z.isAuthenticated,U=Object(Se.a)(a,500),F=function(){var e=Object(m.a)(s.a.mark(function e(t){var a,n,r,c,l=arguments;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.length>1&&void 0!==l[1]?l[1]:1,e.prev=1,e.next=4,fetch("/api/artisans/?q=".concat(t,"&page=").concat(a));case 4:return n=e.sent,e.next=7,n.json();case 7:return r=e.sent,c=n.headers,e.abrupt("return",{artisans:r,page:c.get("X-Pagination-Page"),pages:c.get("X-Pagination-TotalPages"),pageSize:c.get("X-Pagination-PerPage")});case 12:e.prev=12,e.t0=e.catch(1),B(e.t0);case 15:case"end":return e.stop()}},e,null,[[1,12]])}));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(m.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/makers");case 3:return t=e.sent,e.abrupt("return",t.json());case 7:e.prev=7,e.t0=e.catch(0),console.error("Error loading makers",e.t0),B(e.t0);case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(m.a)(s.a.mark(function e(t,a){var n,r,c;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F(U,a);case 2:n=e.sent,r=n.artisans,c=n.pages,p(r),E(a),w(c),C(!1);case 9:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}();if(Object(n.useEffect)(function(){C(!0),W().then(function(e){_(e),U?F(U,h).then(function(e){var t=e.artisans,a=e.pages;p(t),E(h),w(a),C(!1)}):(p([]),C(!1))}).catch(function(e){return B(e)})},[U,h]),M)return r.a.createElement(Fe,{error:M});var K=S?r.a.createElement(fe,null):U?r.a.createElement(Ue,{user:D,getTokenSilently:I,isAuthenticated:L,artisans:u,searchTerm:U,pages:j,page:h,perRow:4,onPageChange:function(e){X(U,e)}}):r.a.createElement("div",null),Y=U&&u&&u.length?r.a.createElement(Z.a,null,r.a.createElement(ee.a,null,"Showing ",r.a.createElement("b",null,u.length)," matches for ",r.a.createElement("b",null,U))):null,q=!U&&r.a.createElement(o.a,{className:"mkb-makers"},A.map(function(e){return r.a.createElement(Z.a,{key:e.maker_id},r.a.createElement(ee.a,null,r.a.createElement(O.a,{to:"/catalogs/".concat(e.maker_id,"-").concat(Ne()(e.name))},e.name,"\xa0",r.a.createElement(xe.a,{color:"info",pill:!0},e.count))))}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.a,null,r.a.createElement(Z.a,null,r.a.createElement(ee.a,null,r.a.createElement(be.a,null,r.a.createElement(he.a,{for:"exampleSearch"},"Search"),r.a.createElement(Ee.a,{type:"search",name:"search",id:"exampleSearch",placeholder:"search maker, sculpt and/or colorway",autoComplete:"off",onChange:function(e){return c(e.target.value)}})))),Y),q,K)},Xe=function(){var e=Object(m.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/makers");case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),Ke=function(){var e=Object(n.useState)(!0),t=Object(f.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)([]),i=Object(f.a)(l,2),u=i[0],s=i[1];if(Object(n.useEffect)(function(){c(!0),Xe().then(function(e){c(!1),s(e)})},[]),a)return r.a.createElement(fe,null);return r.a.createElement(o.a,{className:"mkb-makers"},u.map(function(e){return r.a.createElement(Z.a,{key:e.maker_id},r.a.createElement(ee.a,null,r.a.createElement(O.a,{to:"/catalogs/".concat(e.maker_id,"-").concat(Ne()(e.name))},e.name)))}))},Ye=function(){var e=Object(m.a)(s.a.mark(function e(t){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/makers/".concat(t,"/sculpts"));case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),qe=function(){var e=Object(m.a)(s.a.mark(function e(t,a){var n,r,c,l,i,o=arguments;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>2&&void 0!==o[2]?o[2]:1,r="sculpt=".concat(a.replace("&","%26")),e.next=4,fetch("/api/makers/".concat(t,"/artisans?").concat(r,"&page=").concat(n));case 4:return c=e.sent,e.next=7,c.json();case 7:return l=e.sent,i=c.headers,e.abrupt("return",{artisans:l,page:i.get("X-Pagination-Page"),pages:i.get("X-Pagination-TotalPages"),pageSize:i.get("X-Pagination-PerPage")});case 10:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),He=function(){var e=Object(i.f)(),t=Object(i.h)(),a=t.slug,c=t.sculpt,l=Object(n.useState)(!0),u=Object(f.a)(l,2),p=u[0],d=u[1],b=Object(n.useState)(!1),h=Object(f.a)(b,2),E=h[0],v=h[1],g=Object(n.useState)([]),k=Object(f.a)(g,2),j=k[0],w=k[1],y=Object(n.useState)(c),C=Object(f.a)(y,2),N=C[0],T=C[1],A=Object(n.useState)([]),P=Object(f.a)(A,2),R=P[0],M=P[1],B=Object(n.useState)(null),z=Object(f.a)(B,2),D=z[0],I=z[1],L=Object(n.useState)(null),U=Object(f.a)(L,2),F=U[0],W=U[1],X=Object(n.useState)(null),K=Object(f.a)(X,2),Y=K[0],q=K[1],H=a.split("-")[0],J=a.split(/-(.+)/)[1];Object(n.useEffect)(function(){N&&G(N),(!N||j.length<1)&&(d(!0),Ye(H).then(function(e){w(e),d(!1)}))},[H,N]);var G=function(){var e=Object(m.a)(s.a.mark(function e(t){var a,n,r,c,l,i=arguments;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.length>1&&void 0!==i[1]?i[1]:1,v(!0),e.next=4,qe(H,t,a);case 4:n=e.sent,r=n.artisans,c=n.pages,l=n.pageSize,T(t),M(r),I(a),W(c),q(l),v(!1);case 14:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Q=p?r.a.createElement(fe,null):r.a.createElement(_.a,{vertical:!0},j.map(function(t){return r.a.createElement(x.a,{key:t.sculpt},r.a.createElement(S.a,{href:"/catalogs/".concat(a,"/").concat(t.sculpt),onClick:(n=t,function(t){if(!function(e){if(e.ctrlKey||e.shiftKey||e.metaKey||e.button&&1===e.button)return!0;e.stopPropagation(),e.preventDefault()}(t))return e.push(encodeURI("/catalogs/".concat(a,"/").concat(n.sculpt))),T(n.sculpt),!1})},t.sculpt," ",r.a.createElement(xe.a,{color:"info",pill:!0},t.count)));var n})),V=r.a.createElement(Z.a,null,r.a.createElement(ee.a,null,r.a.createElement(ce.a,null,r.a.createElement(le.a,null,r.a.createElement(O.a,{to:"/artisans"},"Artisans")),N?r.a.createElement(r.a.Fragment,null,r.a.createElement(le.a,null,r.a.createElement(O.a,{to:"/catalogs/".concat(a)},J)),r.a.createElement(le.a,null,N)):r.a.createElement(le.a,null,J)))),$=E?r.a.createElement(fe,null):r.a.createElement(Ue,{artisans:R,pages:F,page:D,pageSize:Y,onPageChange:function(e){G(N,e)}});return r.a.createElement(o.a,null,V,r.a.createElement(Z.a,null,r.a.createElement(ee.a,{xs:"2"},Q),r.a.createElement(ee.a,{xs:"10"},$)))},Je=function(){var e=Object(m.a)(s.a.mark(function e(t){var a,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:return a=e.sent,e.next=5,fetch("/api/user",{headers:{Authorization:"Bearer ".concat(a)}});case 5:return n=e.sent,e.abrupt("return",n.json());case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Ge=Object(i.i)(function(e){var t=v().getTokenSilently,a=Object(n.useState)(),c=Object(f.a)(a,2),l=c[0],i=c[1],o=Object(n.useState)(!0),u=Object(f.a)(o,2),s=u[0],m=u[1],p=W.a.parse(window.location.search).msg;if(Object(n.useEffect)(function(){Je(t).then(function(e){i(e),m(!1)})},[t]),s)return r.a.createElement(fe,null);var d="In order to get started you need to link you Discord account";l.discord_user_id&&(d="You're all set");var b=p&&r.a.createElement(K,{message:p,onDismiss:function(){var t=e.location,a=e.history;t.search="",a.push(t)}});return r.a.createElement(r.a.Fragment,null,b,r.a.createElement("div",null,d))}),Qe=a(1182),Ve=a(347),$e=(a(1146),function(){var e=Object(m.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/makers?order=name");case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()),Ze=function(){var e=Object(m.a)(s.a.mark(function e(t){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/makers/".concat(t,"/sculpts"));case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),et=function(){var e=v().getTokenSilently,t=Object(n.useState)(!1),a=Object(f.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)(null),u=Object(f.a)(i,2),p=u[0],d=u[1],b=Object(n.useState)(null),h=Object(f.a)(b,2),E=h[0],g=h[1],k=Object(n.useState)([]),j=Object(f.a)(k,2),w=j[0],O=j[1],y=Object(n.useState)(null),x=Object(f.a)(y,2),S=x[0],C=x[1],N=Object(n.useState)(null),T=Object(f.a)(N,2),A=T[0],_=T[1],R=Object(n.useState)(null),M=Object(f.a)(R,2),B=M[0],z=M[1],D=Object(n.useState)(null),I=Object(f.a)(D,2),L=I[0],U=I[1],F=Object(n.useState)(!1),W=Object(f.a)(F,2),X=W[0],Y=W[1],q=Object(n.useState)(null),H=Object(f.a)(q,2),J=H[0],G=H[1],Q=Object(n.useState)(!0),V=Object(f.a)(Q,2),$=V[0],te=V[1],ae=Object(n.useState)([]),ne=Object(f.a)(ae,2),re=ne[0],ce=ne[1],le=Object(n.useState)(null),ie=Object(f.a)(le,2),oe=ie[0],se=ie[1],me=Object(n.useState)(null),pe=Object(f.a)(me,2),de=pe[0],ge=pe[1];Object(n.useState)(function(){ve(e).then(function(e){G(e.nickname||e.email&&e.email.split("@")[0])})},[]);var ke=function(){var e=Object(m.a)(s.a.mark(function e(t){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:l(!0),(a=new FileReader).onloadend=Object(m.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$e();case 2:(t=e.sent).unshift({}),t.push({maker_id:"new",name:"New maker..."}),O(t),l(!1),g(a.result);case 8:case"end":return e.stop()}},e)})),a.readAsDataURL(t.target.files[0]),d(t.target.files[0]);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),je=!p&&r.a.createElement(ee.a,null,r.a.createElement(be.a,{className:"mkb-files"},r.a.createElement(he.a,{for:"image"},"To start the submission process, select or drag the artisan image to the box below:"),r.a.createElement(Ee.a,{type:"file",name:"file",id:"image",onChange:ke})));if(c)return r.a.createElement(fe,null);var we=function(){var e=Object(m.a)(s.a.mark(function e(){var t,a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/artisans/similar?term=".concat(encodeURI("".concat(B," ").concat(L))));case 2:return t=e.sent,e.next=5,t.json();case 5:if((a=e.sent).length){e.next=8;break}return e.abrupt("return",!1);case 8:return Y(!1),se(a),e.abrupt("return",!0);case 11:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),Oe=function(){var t=Object(m.a)(s.a.mark(function t(){var a,n,r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Y(!0),oe){t.next=8;break}return t.next=4,we();case 4:if(a=t.sent,console.log("res",a),!a){t.next=8;break}return t.abrupt("return");case 8:return t.next=10,e();case 10:return n=t.sent,(r=new FormData).append("maker",A||S),r.append("sculpt",B),r.append("colorway",L),r.append("image",p),r.append("anonymous",!$),$&&r.append("author",J),t.next=20,ue.a.put("/api/submissions",r,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(n)}});case 20:Y(!1),d(null),se(null),ge("Thanks for your submission! We'll notify you when it gets processed.");case 24:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),ye=function(){var e=Object(m.a)(s.a.mark(function e(t){var a,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(C(t),"New maker..."!==t){e.next=3;break}return e.abrupt("return");case 3:return a=w.find(function(e){return e.name===t}),Y(!0),e.next=7,Ze(a.maker_id);case 7:n=e.sent,ce(n.map(function(e){return e.sculpt})),Y(!1);case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),xe=de&&r.a.createElement(K,{color:"success",message:de}),Se=!(S&&B&&L),Ce=p&&!oe&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{className:"mkb-file-preview",xs:6},r.a.createElement("img",{src:E,alt:"Preview"})),r.a.createElement(ee.a,{xs:6},r.a.createElement(Qe.a,null,r.a.createElement(be.a,null,r.a.createElement(he.a,{for:"maker"},"Maker"),r.a.createElement(Ee.a,{type:"select",name:"maker",id:"maker",disabled:X,onChange:function(e){return ye(e.target.value)},autoComplete:"off"},w.map(function(e,t){return r.a.createElement("option",{key:t},e.name)}))),S&&"New maker..."===S&&r.a.createElement(be.a,null,r.a.createElement(he.a,{for:"newMaker"},"Maker"),r.a.createElement(Ee.a,{type:"text",name:"newMaker",id:"newMaker",disabled:X,onChange:function(e){return _(e.target.value)}})),r.a.createElement(be.a,null,r.a.createElement(he.a,{for:"sculpt"},"Sculpt"),r.a.createElement(Ve.Typeahead,{allowNew:!0,newSelectionPrefix:"",emptyLabel:!1,options:re,name:"sculpt",id:"sculpt",disabled:X,onBlur:function(e){return t=e.target.value,void z(t);var t}})),r.a.createElement(be.a,null,r.a.createElement(he.a,{for:"colorway"},"Colorway"),r.a.createElement(Ee.a,{type:"text",name:"colorway",id:"colorway",disabled:X,autoComplete:"off",onChange:function(e){return U(e.target.value)}})),r.a.createElement(be.a,{check:!0},r.a.createElement(he.a,{for:"wantsCredit"},r.a.createElement(Ee.a,{type:"checkbox",name:"wantsCredit",id:"wantsCredit",autoComplete:"off",disabled:X,checked:$,onChange:function(e){return te(e.target.checked)}})," ","Credit me for the submission")),$&&r.a.createElement(be.a,null,r.a.createElement(he.a,{for:"author"},"How do you want to be credited as?"),r.a.createElement(Ee.a,{type:"text",name:"author",id:"author",autoComplete:"off",value:J,disabled:X,onChange:function(e){return G(e.target.value)}})),!$&&r.a.createElement(be.a,null,r.a.createElement(he.a,null,"This submission will be sent anonymously."))),r.a.createElement(o.a,{className:"nopadding"},r.a.createElement(Z.a,{noGutters:!0},r.a.createElement(ee.a,null,r.a.createElement(P.a,{color:"primary",disabled:X||Se,onClick:Oe},"Submit")),r.a.createElement(ee.a,null,X&&r.a.createElement(fe,null)))))),Ne=oe&&r.a.createElement(Z.a,null,r.a.createElement(ee.a,null,r.a.createElement("p",null,"Before submitting please review the following possible matches we found:"),r.a.createElement(Ue,{artisans:oe}),r.a.createElement(P.a,{color:"primary",disabled:X||Se,onClick:Oe},"My Submission is Not on the List")," ",r.a.createElement(P.a,{color:"secondary",disabled:X||Se,onClick:function(){d(null),se(null)}},"Oops, It's a Duplicate :(")," ",X&&r.a.createElement(fe,null)));return r.a.createElement(r.a.Fragment,null,xe,r.a.createElement(o.a,null,r.a.createElement(Z.a,null,je,Ce,Ne)))},tt=function(){var e=Object(m.a)(s.a.mark(function e(t,a){var n,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:return n=e.sent,e.next=5,fetch("/api/user",{method:"POST",headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"},body:JSON.stringify(a)});case 5:return r=e.sent,e.abrupt("return",r.json());case 7:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),at=function(){var e=v(),t=e.loading,a=e.getTokenSilently,c=e.user,l=Object(n.useState)(!0),i=Object(f.a)(l,2),o=i[0],u=i[1],p=Object(n.useState)(null),d=Object(f.a)(p,2),b=d[0],h=d[1],E=Object(n.useState)(null),g=Object(f.a)(E,2),k=g[0],j=g[1],O=Object(n.useState)(null),y=Object(f.a)(O,2),x=y[0],S=y[1],C=Object(n.useState)(!0),N=Object(f.a)(C,2),T=N[0],A=N[1],_=Object(n.useState)(null),R=Object(f.a)(_,2),M=R[0],B=R[1],z=Object(n.useState)(null),D=Object(f.a)(z,2),I=D[0],L=D[1];if(Object(n.useState)(function(){ve(a).then(function(e){console.log("user",e),h(e),j(e.name||c.name),S(e.nickname||c.nickname),A(e.notifications),u(!1)})},[a]),t||!c)return r.a.createElement(w,null);if(o||!b)return r.a.createElement(fe,null);var U=function(){var e=Object(m.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return b.name=k,b.nickname=x,b.notifications=T,L(!0),e.prev=4,e.next=7,tt(a,b);case 7:B({message:"Profile saved.",type:"info"}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),B({message:"Error saving the profile: ".concat(e.t0),type:"danger"});case 13:return e.prev=13,L(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[4,10,13,16]])}));return function(){return e.apply(this,arguments)}}(),F=M?r.a.createElement(K,Object.assign({},M,{onDismiss:function(e){return B(null),!0}})):null;return r.a.createElement(Qe.a,null,F,r.a.createElement(be.a,null,r.a.createElement(he.a,{for:"name"},"Name"),r.a.createElement(Ee.a,{type:"text",name:"name",id:"name",value:k,disabled:I,onChange:function(e){return j(e.target.value)}})),r.a.createElement(be.a,null,r.a.createElement(he.a,{for:"nickname"},"Nickname"),r.a.createElement(Ee.a,{type:"text",name:"nickname",id:"nickname",value:x,disabled:I,onChange:function(e){return S(e.target.value)}})),r.a.createElement(be.a,{check:!0},r.a.createElement(he.a,{for:"notifications"},r.a.createElement(Ee.a,{type:"checkbox",name:"notifications",id:"notifications",autoComplete:"off",disabled:I,checked:T,onChange:function(e){return A(e.target.checked)}})," ","Receive email notifications")),r.a.createElement(P.a,{onClick:U,disabled:I},I?r.a.createElement("div",null,r.a.createElement(fe,{size:"sm"})):"Save"))},nt=a(1184),rt=a(1185),ct=a(7),lt=a.n(ct),it=a(49),ot=a.n(it),ut=a(1183),st=function(){var e=Object(m.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/makers?order=name");case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),mt=function(e){function t(e){var a;Object(J.a)(this,t),a=Object(Q.a)(this,Object(V.a)(t).call(this,e));var n=e.submission;return a.props=e,a.state={submission:{maker:"",newMaker:"",sculpt:"",colorway:""},loading:!0,makers:[]},st().then(function(e){e.unshift({}),e.push({maker_id:"new",name:"New maker..."});var t=n&&n.maker&&n.maker.toLowerCase(),r=n.maker&&e.filter(function(e){return!!e.name}).find(function(e){return e.name.toLowerCase().indexOf(t)>-1});r?n.maker=r.name||"":(n.newMaker=n.maker,n.maker="New maker...");a.setState({submission:n,makers:e,loading:!1})}),a}return Object($.a)(t,e),Object(G.a)(t,[{key:"update",value:function(e){var t=this;return function(a){var n=a.target.value,r=ot.a.clone(t.state.submission);r[e]=n,t.setState({submission:r}),t.props.onUpdate&&t.props.onUpdate(r)}}},{key:"render",value:function(){var e=this.state,t=e.submission,a=e.makers,n=e.loading;return n?r.a.createElement(fe,null):r.a.createElement(Qe.a,null,r.a.createElement(be.a,null,r.a.createElement(he.a,{for:"maker"},"Maker"),r.a.createElement(Ee.a,{type:"select",id:"maker",name:"maker",value:t.maker,disabled:n,onChange:this.update("maker").bind(this)},a.map(function(e,t){return r.a.createElement("option",{key:t},e.name)}))),t.maker&&"New maker..."===t.maker&&r.a.createElement(be.a,null,r.a.createElement(he.a,{for:"newMaker"},"Maker"),r.a.createElement(Ee.a,{type:"text",id:"newMaker",name:"newMaker",value:t.newMaker,disabled:n,onChange:this.update("newMaker").bind(this)})),r.a.createElement(be.a,null,r.a.createElement(he.a,{for:"sculpt"},"Sculpt"),r.a.createElement(Ee.a,{type:"text",id:"sculpt",name:"sculpt",value:t.sculpt,disabled:n,onChange:this.update("sculpt").bind(this)})),r.a.createElement(be.a,null,r.a.createElement(he.a,{for:"colorway"},"Colorway"),r.a.createElement(Ee.a,{type:"text",id:"colorway",name:"colorway",value:t.colorway,disabled:n,onChange:this.update("colorway").bind(this)})))}}]),t}(r.a.Component),pt=function(e){var t=e.onApprove,a=e.onReject,c=e.onUpdate,l=Object(n.useState)(!1),i=Object(f.a)(l,2),o=i[0],u=i[1],p=Object(n.useState)(!1),d=Object(f.a)(p,2),b=d[0],h=d[1],E=Object(n.useState)(e.submission),v=Object(f.a)(E,2),g=v[0],k=v[1],j=function(){var e=Object(m.a)(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,t();case 3:u(!1);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(m.a)(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(t);case 2:h(!1);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("tr",{key:g.submission_id},r.a.createElement("td",{width:"120px"},r.a.createElement("img",{src:g.image,alt:"preview",width:"100px"})),b&&r.a.createElement("td",{colSpan:"3"},r.a.createElement(mt,{submission:g,onUpdate:function(e){return function(e){var t=ot.a.clone(g);t.newMaker=e.newMaker,t.maker=e.maker,t.sculpt=e.sculpt,t.colorway=e.colorway,t.author=e.author,t.anonymous=e.anonymous,k(t)}(e)}})),b&&r.a.createElement("td",{align:"right"},o?r.a.createElement(fe,null):r.a.createElement(ut.a,null,r.a.createElement(P.a,{color:"primary",onClick:function(e){return j(function(){return w(g)})}},"Save"),r.a.createElement(P.a,{color:"primary",onClick:function(e){return j(function(){return h(!1)})}},"Cancel"))),!b&&r.a.createElement("td",{style:{cursor:"pointer"},onClick:function(e){return h(!0)}},r.a.createElement("b",null,"Maker:")," ",g.maker,r.a.createElement("br",null),r.a.createElement("b",null,"Sculpt:")," ",g.sculpt,r.a.createElement("br",null),r.a.createElement("b",null,"Colorway:")," ",g.colorway,r.a.createElement("br",null)),!b&&r.a.createElement("td",null,g.anonymous?"Anonymous":g.author),!b&&r.a.createElement("td",null,me.a.Date.relative(new Date(g.created_at))),!b&&r.a.createElement("td",{align:"right"},o?r.a.createElement(fe,null):r.a.createElement(ut.a,null,r.a.createElement(P.a,{color:"primary",onClick:function(e){return j(function(){return t(g)})}},"Approve"),r.a.createElement(P.a,{color:"primary",onClick:function(e){return j(function(){return a(g)})}},"Reject"))))},ft=function(){var e=Object(m.a)(s.a.mark(function e(t,a,n){var r,c;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:return r=e.sent,e.next=5,fetch("/api/images/".concat(n,"/").concat(a),{method:"POST",headers:{Authorization:"Bearer ".concat(r)}});case 5:return c=e.sent,e.abrupt("return",c.json());case 7:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}(),dt=function(e){var t=v().getTokenSilently,a=Object(n.useState)(e.submissions),c=Object(f.a)(a,2),l=c[0],i=c[1],o=function(){var a=Object(m.a)(s.a.mark(function a(n,r){var c,o;return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,ft(t,n,r.image_id);case 2:c=ot.a.clone(l),o=c.indexOf(r),c.splice(o,1),i(c),e.onUpdate&&e.onUpdate(c);case 7:case"end":return a.stop()}},a)}));return function(e,t){return a.apply(this,arguments)}}(),u=function(){var e=Object(m.a)(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o("approve",t));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(m.a)(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o("reject",t));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),d=l.map(function(e){return r.a.createElement("tr",{key:e.image_id},r.a.createElement("td",{width:"120px"},r.a.createElement("img",{src:e.image,alt:"preview",width:"100px"})),r.a.createElement("td",null,r.a.createElement("b",null,"Maker:")," ",e.maker,r.a.createElement("br",null),r.a.createElement("b",null,"Sculpt:")," ",e.sculpt,r.a.createElement("br",null),r.a.createElement("b",null,"Colorway:")," ",e.colorway,r.a.createElement("br",null)),r.a.createElement("td",null,e.submitted_by||"Anonymous"),r.a.createElement("td",null,me.a.Date.relative(new Date(e.created_at))),r.a.createElement("td",{align:"right"},r.a.createElement(ut.a,null,r.a.createElement(P.a,{color:"primary",onClick:function(t){return u(e)}},"Approve"),r.a.createElement(P.a,{color:"primary",onClick:function(t){return p(e)}},"Reject"))))});return r.a.createElement(te.a,null,r.a.createElement("tbody",null,d))},bt=function(){var e=Object(m.a)(s.a.mark(function e(t){var a,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:return a=e.sent,e.next=5,fetch("/api/submissions",{headers:{Authorization:"Bearer ".concat(a)}});case 5:return n=e.sent,e.abrupt("return",n.json());case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),ht=function(){var e=Object(m.a)(s.a.mark(function e(t,a,n){var r,c;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:return r=e.sent,e.next=5,fetch("/api/submissions/".concat(n,"/").concat(a),{method:"POST",headers:{Authorization:"Bearer ".concat(r)}});case 5:return c=e.sent,e.abrupt("return",c.json());case 7:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}(),Et=function(){var e=v().getTokenSilently,t=Object(n.useState)(!0),a=Object(f.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)([]),o=Object(f.a)(i,2),u=o[0],p=o[1],d=Object(n.useState)([]),b=Object(f.a)(d,2),h=b[0],E=b[1],g=Object(n.useState)("1"),k=Object(f.a)(g,2),j=k[0],w=k[1];if(Object(n.useState)(function(){bt(e).then(function(e){var t=e.submissions,a=e.imageSubmissions;p(t),E(a),l(!1),0===t.length&&w("2")})}),c)return r.a.createElement(fe,null);var O=function(){var t=Object(m.a)(s.a.mark(function t(a,n){var r,c;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ht(e,a,n.submission_id);case 2:r=ot.a.clone(u),c=r.indexOf(n),r.splice(c,1),p(r);case 6:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}(),y=function(){var e=Object(m.a)(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",O("approve",t));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(m.a)(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",O("reject",t));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),N=function(){var t=Object(m.a)(s.a.mark(function t(a){var n,r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.newMaker&&(a.maker=a.newMaker),t.next=3,e();case 3:return n=t.sent,t.next=6,fetch("/api/submissions/".concat(a.submission_id),{method:"POST",headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"},body:JSON.stringify(a)});case 6:return r=t.sent,t.abrupt("return",r.json());case 8:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),T=u.length>0?r.a.createElement(te.a,null,r.a.createElement("tbody",null,u.map(function(e){return r.a.createElement(pt,{key:e.submission_id,submission:e,onApprove:y,onReject:C,onUpdate:N})}))):r.a.createElement("div",{className:"no-hits"},"No artisan submissions to review"),A=h.length>0?r.a.createElement(dt,{submissions:h,onUpdate:function(e){return E(e)}}):r.a.createElement("div",{className:"no-hits"},"No image submissions to review"),P=function(e){return j!==e?w(e):null};return u.length+h.length<1?r.a.createElement("div",{className:"no-hits"},"Nothing to review"):r.a.createElement("div",{className:"mkb-submissions"},r.a.createElement(_.a,{tabs:!0},r.a.createElement(x.a,null,r.a.createElement(S.a,{className:lt()({active:"1"===j}),onClick:function(){P("1")}},"Artisans ",r.a.createElement(xe.a,{color:"secondary"},u.length))),r.a.createElement(x.a,null,r.a.createElement(S.a,{className:lt()({active:"2"===j}),onClick:function(){P("2")}},"Images ",r.a.createElement(xe.a,{color:"secondary"},h.length)))),r.a.createElement(nt.a,{activeTab:j},r.a.createElement(rt.a,{tabId:"1"},T),r.a.createElement(rt.a,{tabId:"2"},A)))},vt=a(348),gt=function(){var e=Object(m.a)(s.a.mark(function e(t,a){var n,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:return n=e.sent,e.next=5,fetch("/api/user/".concat(a),{headers:{Authorization:"Bearer ".concat(n)}});case 5:return r=e.sent,e.abrupt("return",r.json());case 7:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),kt=function(){var e=Object(m.a)(s.a.mark(function e(t,a){var n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/users/".concat(t,"/").concat(a));case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),jt=function(){var e=Object(m.a)(s.a.mark(function e(t,a,n){var r,c;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:return r=e.sent,e.next=5,fetch("/api/user/".concat(a),{method:"POST",headers:{Authorization:"Bearer ".concat(r),"Content-Type":"application/json"},body:JSON.stringify({public:n})});case 5:return c=e.sent,e.abrupt("return",c.json());case 7:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}(),wt=function(){var e=Object(m.a)(s.a.mark(function e(t,a,n){var r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/lists/".concat(a,"/").concat(n),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t)}});case 2:return r=e.sent,e.abrupt("return",r.json());case 4:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}(),Ot=function(e){var t=e.listType,a=e.userId,c=e.user,l=e.getTokenSilently,u=e.isAuthenticated,p=Object(i.f)(),d=Object(n.useState)(!0),b=Object(f.a)(d,2),h=b[0],E=b[1],v=Object(n.useState)([]),g=Object(f.a)(v,2),k=g[0],j=g[1],O=Object(n.useState)(null),x=Object(f.a)(O,2),S=x[0],C=x[1],N=Object(n.useState)(null),T=Object(f.a)(N,2),A=T[0],_=T[1],P=Object(n.useState)(!1),R=Object(f.a)(P,2),M=R[0],B=R[1],z=Object(n.useState)(!1),D=Object(f.a)(z,2),I=D[0],L=D[1],U=Object(n.useState)(null),F=Object(f.a)(U,2),W=F[0],X=F[1];if(Object(n.useEffect)(function(){(a?kt(a,t):gt(l,t)).then(function(e){var t=e.list,n=e.artisans,r=e.user;a&&!t&&p.push("/artisans?msg=List+not+found"),C(t),j(n),X(r),E(!1)})},[l,t,a,p]),!c&&!a)return r.a.createElement(w,null);var K=function(){var e=Object(m.a)(s.a.mark(function e(a){var n,r,c;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return _(a.artisan_id),e.next=3,l();case 3:return n=e.sent,e.next=6,wt(n,t,a.artisan_id);case 6:r=k.indexOf(a),(c=ot.a.clone(k)).splice(r,1),j(c),_(null);case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();if(h)return r.a.createElement(fe,null);if(!k)return r.a.createElement("div",null,"No Artisans");var Y=function(){var e=Object(m.a)(s.a.mark(function e(){var a,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return B(!0),a=!S.public,e.next=4,jt(l,t,a);case 4:n=e.sent,C(n),B(!1);case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),q=c&&(W.nickname||c.nickname),H=c&&"".concat(S.url_prefix,"/").concat(S.user_id,"-").concat(q,"/").concat(t),J=null;c&&(J=M?r.a.createElement(fe,{size:"sm"}):S.public?r.a.createElement(vt.CopyToClipboard,{text:H,onCopy:function(){L(!0),setTimeout(function(){return L(!1)},800)}},r.a.createElement("div",null,"This artisan list is currently public at ",r.a.createElement("a",{href:H},H)," ",r.a.createElement(y.a,{icon:ie.b,color:"#ccc"}),r.a.createElement("span",{className:"mkb-list-action-copied"},I&&" copied!"))):r.a.createElement("div",null,"This artisan list is currently private."));var G=S.public?"Make Private":"Make Public",Q=c&&r.a.createElement(Z.a,{className:"mkb-list"},r.a.createElement(ee.a,{xs:8},J),r.a.createElement(ee.a,{xs:4,className:"mkb-list-action"},M?G:r.a.createElement("a",{href:"#noop",onClick:Y,disabled:M},G)));return r.a.createElement(o.a,null,Q,r.a.createElement(Z.a,null,r.a.createElement(ee.a,null,r.a.createElement(Ue,{isAuthenticated:u,getTokenSilently:l,artisans:k,onRemove:K,processing:A,perRow:e.perRow}))))},yt=function(){var e=v(),t=e.user,a=e.getTokenSilently,n=e.isAuthenticated;return r.a.createElement(Ot,{user:t,getTokenSilently:a,isAuthenticated:n,listType:"list",perRow:4})},xt=function(){var e=Object(i.h)(),t=e.slug,a=e.listType;console.log("slug, listType",t,a);var n=t.split("-")[0];return r.a.createElement(Ot,{listType:a,userId:n})},St=(a(1150),a(75));var Ct=function(){var e=v(),t=e.user,a=e.getTokenSilently,n=e.isAuthenticated;return r.a.createElement(Ot,{user:t,getTokenSilently:a,isAuthenticated:n,listType:"wishlist",perRow:4})};(function(){St.b.add(ie.e),St.b.add(ie.j),St.b.add(ie.g)})();var Nt=function(){var e=v(),t=e.loading,a=e.user;if(t)return r.a.createElement(w,null);var n=a?a["http://a.mrkeebs.com/roles"]:[];return r.a.createElement(i.b,{history:U},r.a.createElement("div",{id:"app",className:"d-flex flex-column h-100"},r.a.createElement(D,null),r.a.createElement(o.a,{className:"flex-grow-1 mt-5"},r.a.createElement(Y,null),r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/",exact:!0,component:q}),r.a.createElement(i.a,{path:"/bot",exact:!0,component:re}),r.a.createElement(i.a,{path:"/artisans/:id",exact:!0,component:ye}),r.a.createElement(i.a,{path:"/artisans",exact:!0,component:We}),r.a.createElement(i.a,{path:"/catalogs/:slug/:sculpt?",component:He}),r.a.createElement(i.a,{path:"/catalogs",component:Ke}),r.a.createElement(g,{path:"/dashboard",exact:!0,component:Ge}),r.a.createElement(g,{path:"/submit",exact:!0,component:et}),r.a.createElement(g,{path:"/my-artisans",exact:!0,component:yt}),r.a.createElement(g,{path:"/wishlist",exact:!0,component:Ct}),r.a.createElement(g,{path:"/profile",component:at}),n.includes("reviewer")&&r.a.createElement(g,{path:"/review",component:Et}),r.a.createElement(i.a,{path:"/u/:slug/:listType",component:xt}))),r.a.createElement(I,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Tt=a(150);l.a.render(r.a.createElement(function(e){var t=e.children,a=e.onRedirectCallback,c=void 0===a?h:a,l=Object(p.a)(e,["children","onRedirectCallback"]),i=Object(n.useState)(),o=Object(f.a)(i,2),u=o[0],d=o[1],v=Object(n.useState)(),g=Object(f.a)(v,2),k=g[0],j=g[1],w=Object(n.useState)(),O=Object(f.a)(w,2),y=O[0],x=O[1],S=Object(n.useState)(!0),C=Object(f.a)(S,2),N=C[0],T=C[1],A=Object(n.useState)(!1),_=Object(f.a)(A,2),P=_[0],R=_[1];Object(n.useEffect)(function(){!function(){var e=Object(m.a)(s.a.mark(function e(){var t,a,n,r,i;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b()(l);case 2:if(t=e.sent,x(t),!window.location.search.includes("code=")){e.next=10;break}return e.next=7,t.handleRedirectCallback();case 7:a=e.sent,n=a.appState,c(n);case 10:return e.next=12,t.isAuthenticated();case 12:if(r=e.sent,d(r),!r){e.next=19;break}return e.next=17,t.getUser();case 17:i=e.sent,j(i);case 19:T(!1);case 20:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[]);var M=function(){var e=Object(m.a)(s.a.mark(function e(){var t,a,n=arguments;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},R(!0),e.prev=2,e.next=5,y.loginWithPopup(t);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error(e.t0);case 10:return e.prev=10,R(!1),e.finish(10);case 13:return e.next=15,y.getUser();case 15:a=e.sent,j(a),d(!0);case 18:case"end":return e.stop()}},e,null,[[2,7,10,13]])}));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(m.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return T(!0),e.next=3,y.handleRedirectCallback();case 3:return e.next=5,y.getUser();case 5:t=e.sent,T(!1),d(!0),j(t);case 9:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return r.a.createElement(E.Provider,{value:{isAuthenticated:u,user:k,loading:N,popupOpen:P,loginWithPopup:M,handleRedirectCallback:B,getIdTokenClaims:function(){return y.getIdTokenClaims.apply(y,arguments)},loginWithRedirect:function(){return y.loginWithRedirect.apply(y,arguments)},getTokenSilently:function(){return y.getTokenSilently.apply(y,arguments)},getTokenWithPopup:function(){return y.getTokenWithPopup.apply(y,arguments)},logout:function(){return y.logout.apply(y,arguments)}}},t)},{domain:Tt.domain,client_id:Tt.clientId,audience:Tt.audience,redirect_uri:window.location.origin,onRedirectCallback:function(e){U.push(e&&e.targetUrl?e.targetUrl:window.location.pathname)}},r.a.createElement(Nt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},150:function(e){e.exports={domain:"mrkeebs.auth0.com",clientId:"IAkI2XQ14Vno3SuFceBovm2pT8cpY2Xo",audience:"http://fcoury.pagekite.me/"}},342:function(e,t,a){e.exports=a.p+"static/media/loading.c5590569.svg"},350:function(e,t,a){e.exports=a(1151)},355:function(e,t,a){}},[[350,1,2]]]);
//# sourceMappingURL=main.36b5e7ce.chunk.js.map